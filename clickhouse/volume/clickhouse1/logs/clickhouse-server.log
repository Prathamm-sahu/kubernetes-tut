2025.08.06 04:58:27.809183 [ 1 ] {} <Information> Application: Starting ClickHouse 25.7.1.3997 (revision: 54500, git hash: 28a03cae61b5719d4eb2ebd6464b2ed0cae9e2f9, build id: C8FE0DEE66A39666596055F0FF0AF2AA21B4764C), PID 1
2025.08.06 04:58:27.809245 [ 1 ] {} <Information> Application: starting up
2025.08.06 04:58:27.809264 [ 1 ] {} <Information> Application: OS name: Linux, version: 6.8.0-1030-azure, architecture: x86_64
2025.08.06 04:58:27.814791 [ 1 ] {} <Information> Jemalloc: Value for background_thread set to true (from true)
2025.08.06 04:58:27.964319 [ 1 ] {} <Information> Application: Available RAM: 7.76 GiB; logical cores: 2; used cores: 2.
2025.08.06 04:58:27.964725 [ 1 ] {} <Information> Application: Available CPU instruction sets: SSE, SSE2, SSE3, SSSE3, SSE41, SSE42, F16C, POPCNT, BMI1, BMI2, PCLMUL, AES, AVX, FMA, AVX2, SHA, ADX, RDRAND, RDSEED, RDTSCP, CLFLUSHOPT, CLWB, XSAVE, OSXSAVE
2025.08.06 04:58:27.966417 [ 1 ] {} <Information> CgroupsReader: Will create cgroup reader from '/sys/fs/cgroup/' (cgroups version: v2)
2025.08.06 04:58:31.090394 [ 1 ] {} <Information> Application: Integrity check of the executable successfully passed (checksum: 6F6071C2010AEFE8386EE783834ADED3)
2025.08.06 04:58:31.092847 [ 1 ] {} <Information> MemoryWorker: Starting background memory thread with period of 50ms, using Cgroups as source
2025.08.06 04:58:31.093005 [ 1 ] {} <Information> BackgroundSchedulePool/BgSchPool: Create BackgroundSchedulePool with 512 threads
2025.08.06 04:58:31.164519 [ 87 ] {} <Information> MemoryTracker: Correcting the value of global memory tracker from 7.26 MiB to 59.73 MiB
2025.08.06 04:58:31.420918 [ 1 ] {} <Information> Application: Lowered mark cache size to 3.88 GiB because the system has limited RAM
2025.08.06 04:58:31.420951 [ 1 ] {} <Information> Application: Lowered primary index cache size to 3.88 GiB because the system has limited RAM
2025.08.06 04:58:31.420954 [ 1 ] {} <Information> Application: Lowered index mark cache size to 3.88 GiB because the system has limited RAM
2025.08.06 04:58:31.420958 [ 1 ] {} <Information> Application: Lowered vector similarity index cache size to 3.88 GiB because the system has limited RAM
2025.08.06 04:58:31.439833 [ 1 ] {} <Information> Application: Changed setting 'max_server_memory_usage' to 6.98 GiB (7.76 GiB available memory * 0.90 max_server_memory_usage_to_ram_ratio)
2025.08.06 04:58:31.439853 [ 1 ] {} <Information> Application: Setting merges_mutations_memory_usage_soft_limit was set to 3.88 GiB (7.76 GiB available * 0.50 merges_mutations_memory_usage_to_ram_ratio)
2025.08.06 04:58:31.439855 [ 1 ] {} <Information> Application: Merges and mutations memory limit is set to 3.88 GiB
2025.08.06 04:58:31.452403 [ 1 ] {} <Information> Application: Setting max_remote_read_network_bandwidth_for_server was set to 0
2025.08.06 04:58:31.452417 [ 1 ] {} <Information> Application: Setting max_remote_write_network_bandwidth_for_server was set to 0
2025.08.06 04:58:31.452420 [ 1 ] {} <Information> Application: Setting max_local_read_bandwidth_for_server was set to 0
2025.08.06 04:58:31.452427 [ 1 ] {} <Information> Application: Setting max_local_write_bandwidth_for_server was set to 0
2025.08.06 04:58:31.452433 [ 1 ] {} <Information> Application: ConcurrencyControl limit is set to UNLIMITED CPU slots with 'round_robin' scheduler
2025.08.06 04:58:31.452445 [ 1 ] {} <Information> BackgroundSchedulePool/BgBufSchPool: Create BackgroundSchedulePool with 16 threads
2025.08.06 04:58:31.455545 [ 1 ] {} <Information> BackgroundSchedulePool/BgMBSchPool: Create BackgroundSchedulePool with 16 threads
2025.08.06 04:58:31.464627 [ 1 ] {} <Information> BackgroundSchedulePool/BgDistSchPool: Create BackgroundSchedulePool with 16 threads
2025.08.06 04:58:31.555009 [ 1 ] {} <Warning> Application: Listen [::]:9009 failed: Poco::Exception. Code: 1000, e.code() = 0, DNS error: EAI: Address family for hostname not supported (version 25.7.1.3997 (official build)). If it is an IPv6 or IPv4 address and your host has disabled IPv6 or IPv4, then consider to specify not disabled IPv4 or IPv6 address to listen in <listen_host> element of configuration file. Example for disabled IPv6: <listen_host>0.0.0.0</listen_host> . Example for disabled IPv4: <listen_host>::</listen_host>
2025.08.06 04:58:31.557845 [ 1 ] {} <Information> Application: Listening for replica communication (interserver): http://0.0.0.0:9009
2025.08.06 04:58:31.586661 [ 1 ] {} <Warning> Access(local_directory): File /var/lib/clickhouse/access/users.list doesn't exist
2025.08.06 04:58:31.586870 [ 1 ] {} <Warning> Access(local_directory): Recovering lists in directory /var/lib/clickhouse/access/
2025.08.06 04:58:31.587178 [ 1 ] {} <Information> CgroupsMemoryUsageObserver: Started cgroup current memory usage observer thread
2025.08.06 04:58:31.588453 [ 653 ] {} <Information> CgroupsMemoryUsageObserver: Memory amount initially available to the process is 7.76 GiB
2025.08.06 04:58:31.594625 [ 1 ] {} <Information> Context: Initialized background executor for merges and mutations with num_threads=16, num_tasks=32, scheduling_policy=round_robin
2025.08.06 04:58:31.597689 [ 1 ] {} <Information> Context: Initialized background executor for move operations with num_threads=8, num_tasks=8
2025.08.06 04:58:31.605961 [ 1 ] {} <Information> Context: Initialized background executor for fetches with num_threads=16, num_tasks=16
2025.08.06 04:58:31.606421 [ 1 ] {} <Information> Context: Initialized background executor for common operations (e.g. clearing old parts) with num_threads=8, num_tasks=8
2025.08.06 04:58:31.609105 [ 1 ] {} <Warning> Context: Linux transparent hugepages are set to "always". Check /sys/kernel/mm/transparent_hugepage/enabled
2025.08.06 04:58:31.609511 [ 1 ] {} <Warning> Context: Delay accounting is not enabled, OSIOWaitMicroseconds will not be gathered. You can enable it using `sudo sh -c 'echo 1 > /proc/sys/kernel/task_delayacct'` or by using sysctl.
2025.08.06 04:58:31.609632 [ 1 ] {} <Information> DNSCacheUpdater: Update period 15 seconds
2025.08.06 04:58:31.609646 [ 1 ] {} <Information> Application: Loading metadata from /var/lib/clickhouse/
2025.08.06 04:58:31.609685 [ 1 ] {} <Information> Context: Database disk name: default
2025.08.06 04:58:31.609688 [ 1 ] {} <Information> Context: Database disk name: default, path: /var/lib/clickhouse/
2025.08.06 04:58:31.610611 [ 1 ] {} <Information> DatabaseAtomic (system): Metadata disk default, path /var/lib/clickhouse/
2025.08.06 04:58:31.631768 [ 1 ] {} <Information> DatabaseAtomic (system): Metadata processed, database system has 0 tables, 0 dictionaries and 0 materialized views in total.
2025.08.06 04:58:31.631825 [ 1 ] {} <Information> TablesLoader: Parsed metadata of 0 tables in 1 databases in 8.7223e-05 sec
2025.08.06 04:58:31.736777 [ 705 ] {} <Error> void DB::AsyncLoader::worker(Pool &): std::exception. Code: 1001, type: std::__1::filesystem::filesystem_error, e.what() = filesystem error: in create_directories: Permission denied ["/var/lib/clickhouse/data/system"], Stack trace (when copying this message, always include the lines below):

0. std::system_error::system_error(std::error_code, String const&) @ 0x000000001e5a0c17
1. std::filesystem::filesystem_error::filesystem_error[abi:ne190107](String const&, std::filesystem::path const&, std::error_code) @ 0x000000001288f9ff
2. void std::filesystem::__throw_filesystem_error[abi:ne190107]<String&, std::filesystem::path const&, std::error_code const&>(String&, std::filesystem::path const&, std::error_code const&) @ 0x000000001e5585ad
3. std::filesystem::detail::ErrorHandler<bool>::report(std::error_code const&) const @ 0x000000001e55b542
4. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc8f
5. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc60
6. DB::DiskLocal::createDirectories(String const&) @ 0x00000000160accfa
7. void std::__function::__policy_invoker<void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::DatabaseAtomic::startupDatabaseAsync(DB::AsyncLoader&, std::unordered_set<std::shared_ptr<DB::LoadJob>, std::hash<std::shared_ptr<DB::LoadJob>>, std::equal_to<std::shared_ptr<DB::LoadJob>>, std::allocator<std::shared_ptr<DB::LoadJob>>>, DB::LoadingStrictnessLevel)::$_0, void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>>(std::__function::__policy_storage const*, DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&) @ 0x0000000015eb941a
8. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::AsyncLoader::spawn(DB::AsyncLoader::Pool&, std::unique_lock<std::mutex>&)::$_0, void ()>>(std::__function::__policy_storage const*) @ 0x0000000012aeb704
9. ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::worker() @ 0x000000001290a58b
10. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<ThreadFromGlobalPoolImpl<false, true>::ThreadFromGlobalPoolImpl<void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*>(void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*&&)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*&&)::'lambda'(), void ()>>(std::__function::__policy_storage const*) @ 0x00000000129111c6
11. ThreadPoolImpl<std::thread>::ThreadFromThreadPool::worker() @ 0x0000000012907792
12. void* std::__thread_proxy[abi:ne190107]<std::tuple<std::unique_ptr<std::__thread_struct, std::default_delete<std::__thread_struct>>, void (ThreadPoolImpl<std::thread>::ThreadFromThreadPool::*)(), ThreadPoolImpl<std::thread>::ThreadFromThreadPool*>>(void*) @ 0x000000001290ec9a
13. ? @ 0x0000000000094ac3
14. ? @ 0x0000000000125a04

Cannot print extra info for Poco::Exception (version 25.7.1.3997 (official build))
2025.08.06 04:58:31.835139 [ 1 ] {} <Error> Application: Caught exception while loading metadata: Code: 722. DB::Exception: Waited job failed: Code: 695. DB::Exception: Load job 'startup Atomic database system' failed: std::exception. Code: 1001, type: std::__1::filesystem::filesystem_error, e.what() = filesystem error: in create_directories: Permission denied ["/var/lib/clickhouse/data/system"], Stack trace (when copying this message, always include the lines below):

0. std::system_error::system_error(std::error_code, String const&) @ 0x000000001e5a0c17
1. std::filesystem::filesystem_error::filesystem_error[abi:ne190107](String const&, std::filesystem::path const&, std::error_code) @ 0x000000001288f9ff
2. void std::filesystem::__throw_filesystem_error[abi:ne190107]<String&, std::filesystem::path const&, std::error_code const&>(String&, std::filesystem::path const&, std::error_code const&) @ 0x000000001e5585ad
3. std::filesystem::detail::ErrorHandler<bool>::report(std::error_code const&) const @ 0x000000001e55b542
4. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc8f
5. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc60
6. DB::DiskLocal::createDirectories(String const&) @ 0x00000000160accfa
7. void std::__function::__policy_invoker<void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::DatabaseAtomic::startupDatabaseAsync(DB::AsyncLoader&, std::unordered_set<std::shared_ptr<DB::LoadJob>, std::hash<std::shared_ptr<DB::LoadJob>>, std::equal_to<std::shared_ptr<DB::LoadJob>>, std::allocator<std::shared_ptr<DB::LoadJob>>>, DB::LoadingStrictnessLevel)::$_0, void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>>(std::__function::__policy_storage const*, DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&) @ 0x0000000015eb941a
8. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::AsyncLoader::spawn(DB::AsyncLoader::Pool&, std::unique_lock<std::mutex>&)::$_0, void ()>>(std::__function::__policy_storage const*) @ 0x0000000012aeb704
9. ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::worker() @ 0x000000001290a58b
10. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<ThreadFromGlobalPoolImpl<false, true>::ThreadFromGlobalPoolImpl<void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*>(void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*&&)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*&&)::'lambda'(), void ()>>(std::__function::__policy_storage const*) @ 0x00000000129111c6
11. ThreadPoolImpl<std::thread>::ThreadFromThreadPool::worker() @ 0x0000000012907792
12. void* std::__thread_proxy[abi:ne190107]<std::tuple<std::unique_ptr<std::__thread_struct, std::default_delete<std::__thread_struct>>, void (ThreadPoolImpl<std::thread>::ThreadFromThreadPool::*)(), ThreadPoolImpl<std::thread>::ThreadFromThreadPool*>>(void*) @ 0x000000001290ec9a
13. ? @ 0x0000000000094ac3
14. ? @ 0x0000000000125a04

Cannot print extra info for Poco::Exception (version 25.7.1.3997 (official build)). (ASYNC_LOAD_FAILED) (version 25.7.1.3997 (official build)). (ASYNC_LOAD_WAIT_FAILED), Stack trace (when copying this message, always include the lines below):

0. DB::Exception::Exception(DB::Exception::MessageMasked&&, int, bool) @ 0x00000000127c721b
1. DB::Exception::Exception(PreformattedMessage&&, int) @ 0x000000000bfd62cc
2. DB::Exception::Exception<String>(int, FormatStringHelperImpl<std::type_identity<String>::type>, String&&) @ 0x000000000bfd5feb
3. DB::AsyncLoader::wait(std::shared_ptr<DB::LoadJob> const&, bool) @ 0x0000000012ae52d1
4. DB::waitLoad(unsigned long, std::vector<std::shared_ptr<DB::LoadTask>, std::allocator<std::shared_ptr<DB::LoadTask>>> const&, bool) @ 0x0000000012ac8f1e
5. DB::loadMetadataSystem(std::shared_ptr<DB::Context>, bool) @ 0x00000000170c36de
6. DB::Server::main(std::vector<String, std::allocator<String>> const&) @ 0x0000000012b1338a
7. Poco::Util::Application::run() @ 0x000000001d8bb466
8. DB::Server::run() @ 0x0000000012afc290
9. mainEntryClickHouseServer(int, char**) @ 0x0000000012af9273
10. main @ 0x000000000bfd1b5d
11. ? @ 0x0000000000029d90
12. ? @ 0x0000000000029e40
13. _start @ 0x00000000072b402e
 (version 25.7.1.3997 (official build))
2025.08.06 04:58:31.835579 [ 1 ] {} <Information> Application: Stopping AsyncLoader.
2025.08.06 04:58:31.837160 [ 1 ] {} <Information> CgroupsMemoryUsageObserver: Stopped cgroup current memory usage observer thread
2025.08.06 04:58:31.839720 [ 1 ] {} <Information> Application: Shutting down storages.
2025.08.06 04:58:31.850183 [ 1 ] {} <Information> Context: Shutdown disk default
2025.08.06 04:58:31.901969 [ 1 ] {} <Information> Application: Closed all listening sockets.
2025.08.06 04:58:31.902242 [ 1 ] {} <Information> Application: Closed connections to servers for tables.
2025.08.06 04:58:31.912354 [ 1 ] {} <Information> Application: Waiting for background threads
2025.08.06 04:58:32.017374 [ 1 ] {} <Information> Application: Background threads finished in 105 ms
2025.08.06 04:58:32.019142 [ 1 ] {} <Error> Application: Code: 722. DB::Exception: Waited job failed: Code: 695. DB::Exception: Load job 'startup Atomic database system' failed: std::exception. Code: 1001, type: std::__1::filesystem::filesystem_error, e.what() = filesystem error: in create_directories: Permission denied ["/var/lib/clickhouse/data/system"], Stack trace (when copying this message, always include the lines below):

0. std::system_error::system_error(std::error_code, String const&) @ 0x000000001e5a0c17
1. std::filesystem::filesystem_error::filesystem_error[abi:ne190107](String const&, std::filesystem::path const&, std::error_code) @ 0x000000001288f9ff
2. void std::filesystem::__throw_filesystem_error[abi:ne190107]<String&, std::filesystem::path const&, std::error_code const&>(String&, std::filesystem::path const&, std::error_code const&) @ 0x000000001e5585ad
3. std::filesystem::detail::ErrorHandler<bool>::report(std::error_code const&) const @ 0x000000001e55b542
4. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc8f
5. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc60
6. DB::DiskLocal::createDirectories(String const&) @ 0x00000000160accfa
7. void std::__function::__policy_invoker<void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::DatabaseAtomic::startupDatabaseAsync(DB::AsyncLoader&, std::unordered_set<std::shared_ptr<DB::LoadJob>, std::hash<std::shared_ptr<DB::LoadJob>>, std::equal_to<std::shared_ptr<DB::LoadJob>>, std::allocator<std::shared_ptr<DB::LoadJob>>>, DB::LoadingStrictnessLevel)::$_0, void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>>(std::__function::__policy_storage const*, DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&) @ 0x0000000015eb941a
8. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::AsyncLoader::spawn(DB::AsyncLoader::Pool&, std::unique_lock<std::mutex>&)::$_0, void ()>>(std::__function::__policy_storage const*) @ 0x0000000012aeb704
9. ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::worker() @ 0x000000001290a58b
10. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<ThreadFromGlobalPoolImpl<false, true>::ThreadFromGlobalPoolImpl<void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*>(void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*&&)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*&&)::'lambda'(), void ()>>(std::__function::__policy_storage const*) @ 0x00000000129111c6
11. ThreadPoolImpl<std::thread>::ThreadFromThreadPool::worker() @ 0x0000000012907792
12. void* std::__thread_proxy[abi:ne190107]<std::tuple<std::unique_ptr<std::__thread_struct, std::default_delete<std::__thread_struct>>, void (ThreadPoolImpl<std::thread>::ThreadFromThreadPool::*)(), ThreadPoolImpl<std::thread>::ThreadFromThreadPool*>>(void*) @ 0x000000001290ec9a
13. ? @ 0x0000000000094ac3
14. ? @ 0x0000000000125a04

Cannot print extra info for Poco::Exception (version 25.7.1.3997 (official build)). (ASYNC_LOAD_FAILED) (version 25.7.1.3997 (official build)). (ASYNC_LOAD_WAIT_FAILED), Stack trace (when copying this message, always include the lines below):

0. DB::Exception::Exception(DB::Exception::MessageMasked&&, int, bool) @ 0x00000000127c721b
1. DB::Exception::Exception(PreformattedMessage&&, int) @ 0x000000000bfd62cc
2. DB::Exception::Exception<String>(int, FormatStringHelperImpl<std::type_identity<String>::type>, String&&) @ 0x000000000bfd5feb
3. DB::AsyncLoader::wait(std::shared_ptr<DB::LoadJob> const&, bool) @ 0x0000000012ae52d1
4. DB::waitLoad(unsigned long, std::vector<std::shared_ptr<DB::LoadTask>, std::allocator<std::shared_ptr<DB::LoadTask>>> const&, bool) @ 0x0000000012ac8f1e
5. DB::loadMetadataSystem(std::shared_ptr<DB::Context>, bool) @ 0x00000000170c36de
6. DB::Server::main(std::vector<String, std::allocator<String>> const&) @ 0x0000000012b1338a
7. Poco::Util::Application::run() @ 0x000000001d8bb466
8. DB::Server::run() @ 0x0000000012afc290
9. mainEntryClickHouseServer(int, char**) @ 0x0000000012af9273
10. main @ 0x000000000bfd1b5d
11. ? @ 0x0000000000029d90
12. ? @ 0x0000000000029e40
13. _start @ 0x00000000072b402e
 (version 25.7.1.3997 (official build))
2025.08.06 04:58:32.019337 [ 1 ] {} <Information> Application: shutting down
2025.08.06 04:58:32.020425 [ 82 ] {} <Information> BaseDaemon: Stop SignalListener thread
2025.08.06 05:00:42.089269 [ 1 ] {} <Information> Application: Starting ClickHouse 25.7.1.3997 (revision: 54500, git hash: 28a03cae61b5719d4eb2ebd6464b2ed0cae9e2f9, build id: C8FE0DEE66A39666596055F0FF0AF2AA21B4764C), PID 1
2025.08.06 05:00:42.089342 [ 1 ] {} <Information> Application: starting up
2025.08.06 05:00:42.089357 [ 1 ] {} <Information> Application: OS name: Linux, version: 6.8.0-1030-azure, architecture: x86_64
2025.08.06 05:00:42.089466 [ 1 ] {} <Information> Jemalloc: Value for background_thread set to true (from true)
2025.08.06 05:00:42.217066 [ 1 ] {} <Information> Application: Available RAM: 7.76 GiB; logical cores: 2; used cores: 2.
2025.08.06 05:00:42.217307 [ 1 ] {} <Information> Application: Available CPU instruction sets: SSE, SSE2, SSE3, SSSE3, SSE41, SSE42, F16C, POPCNT, BMI1, BMI2, PCLMUL, AES, AVX, FMA, AVX2, SHA, ADX, RDRAND, RDSEED, RDTSCP, CLFLUSHOPT, CLWB, XSAVE, OSXSAVE
2025.08.06 05:00:42.218270 [ 1 ] {} <Information> CgroupsReader: Will create cgroup reader from '/sys/fs/cgroup/' (cgroups version: v2)
2025.08.06 05:00:44.193570 [ 1 ] {} <Information> Application: Integrity check of the executable successfully passed (checksum: 6F6071C2010AEFE8386EE783834ADED3)
2025.08.06 05:00:44.193611 [ 1 ] {} <Information> MemoryWorker: Starting background memory thread with period of 50ms, using Cgroups as source
2025.08.06 05:00:44.193749 [ 1 ] {} <Information> BackgroundSchedulePool/BgSchPool: Create BackgroundSchedulePool with 512 threads
2025.08.06 05:00:44.248177 [ 83 ] {} <Information> MemoryTracker: Correcting the value of global memory tracker from 6.88 MiB to 62.21 MiB
2025.08.06 05:00:44.475090 [ 1 ] {} <Information> Application: Lowered mark cache size to 3.88 GiB because the system has limited RAM
2025.08.06 05:00:44.475185 [ 1 ] {} <Information> Application: Lowered primary index cache size to 3.88 GiB because the system has limited RAM
2025.08.06 05:00:44.475230 [ 1 ] {} <Information> Application: Lowered index mark cache size to 3.88 GiB because the system has limited RAM
2025.08.06 05:00:44.475263 [ 1 ] {} <Information> Application: Lowered vector similarity index cache size to 3.88 GiB because the system has limited RAM
2025.08.06 05:00:44.487023 [ 1 ] {} <Information> Application: Changed setting 'max_server_memory_usage' to 6.98 GiB (7.76 GiB available memory * 0.90 max_server_memory_usage_to_ram_ratio)
2025.08.06 05:00:44.489124 [ 1 ] {} <Information> Application: Setting merges_mutations_memory_usage_soft_limit was set to 3.88 GiB (7.76 GiB available * 0.50 merges_mutations_memory_usage_to_ram_ratio)
2025.08.06 05:00:44.489130 [ 1 ] {} <Information> Application: Merges and mutations memory limit is set to 3.88 GiB
2025.08.06 05:00:44.505100 [ 1 ] {} <Information> Application: Setting max_remote_read_network_bandwidth_for_server was set to 0
2025.08.06 05:00:44.505207 [ 1 ] {} <Information> Application: Setting max_remote_write_network_bandwidth_for_server was set to 0
2025.08.06 05:00:44.505213 [ 1 ] {} <Information> Application: Setting max_local_read_bandwidth_for_server was set to 0
2025.08.06 05:00:44.505215 [ 1 ] {} <Information> Application: Setting max_local_write_bandwidth_for_server was set to 0
2025.08.06 05:00:44.505220 [ 1 ] {} <Information> Application: ConcurrencyControl limit is set to UNLIMITED CPU slots with 'round_robin' scheduler
2025.08.06 05:00:44.506615 [ 1 ] {} <Information> BackgroundSchedulePool/BgBufSchPool: Create BackgroundSchedulePool with 16 threads
2025.08.06 05:00:44.508178 [ 1 ] {} <Information> BackgroundSchedulePool/BgMBSchPool: Create BackgroundSchedulePool with 16 threads
2025.08.06 05:00:44.546129 [ 1 ] {} <Information> BackgroundSchedulePool/BgDistSchPool: Create BackgroundSchedulePool with 16 threads
2025.08.06 05:00:44.637440 [ 1 ] {} <Warning> Application: Listen [::]:9009 failed: Poco::Exception. Code: 1000, e.code() = 0, DNS error: EAI: Address family for hostname not supported (version 25.7.1.3997 (official build)). If it is an IPv6 or IPv4 address and your host has disabled IPv6 or IPv4, then consider to specify not disabled IPv4 or IPv6 address to listen in <listen_host> element of configuration file. Example for disabled IPv6: <listen_host>0.0.0.0</listen_host> . Example for disabled IPv4: <listen_host>::</listen_host>
2025.08.06 05:00:44.637661 [ 1 ] {} <Information> Application: Listening for replica communication (interserver): http://0.0.0.0:9009
2025.08.06 05:00:44.664851 [ 1 ] {} <Information> CgroupsMemoryUsageObserver: Started cgroup current memory usage observer thread
2025.08.06 05:00:44.665539 [ 655 ] {} <Information> CgroupsMemoryUsageObserver: Memory amount initially available to the process is 7.76 GiB
2025.08.06 05:00:44.678896 [ 1 ] {} <Information> Context: Initialized background executor for merges and mutations with num_threads=16, num_tasks=32, scheduling_policy=round_robin
2025.08.06 05:00:44.682637 [ 1 ] {} <Information> Context: Initialized background executor for move operations with num_threads=8, num_tasks=8
2025.08.06 05:00:44.694869 [ 1 ] {} <Information> Context: Initialized background executor for fetches with num_threads=16, num_tasks=16
2025.08.06 05:00:44.703266 [ 1 ] {} <Information> Context: Initialized background executor for common operations (e.g. clearing old parts) with num_threads=8, num_tasks=8
2025.08.06 05:00:44.708702 [ 1 ] {} <Warning> Context: Linux transparent hugepages are set to "always". Check /sys/kernel/mm/transparent_hugepage/enabled
2025.08.06 05:00:44.722729 [ 1 ] {} <Warning> Context: Delay accounting is not enabled, OSIOWaitMicroseconds will not be gathered. You can enable it using `sudo sh -c 'echo 1 > /proc/sys/kernel/task_delayacct'` or by using sysctl.
2025.08.06 05:00:44.723892 [ 1 ] {} <Information> DNSCacheUpdater: Update period 15 seconds
2025.08.06 05:00:44.725268 [ 1 ] {} <Information> Application: Loading metadata from /var/lib/clickhouse/
2025.08.06 05:00:44.725719 [ 1 ] {} <Information> Context: Database disk name: default
2025.08.06 05:00:44.725740 [ 1 ] {} <Information> Context: Database disk name: default, path: /var/lib/clickhouse/
2025.08.06 05:00:44.772859 [ 1 ] {} <Information> DatabaseAtomic (system): Metadata disk default, path /var/lib/clickhouse/
2025.08.06 05:00:44.774774 [ 1 ] {} <Information> DatabaseAtomic (system): Metadata processed, database system has 0 tables, 0 dictionaries and 0 materialized views in total.
2025.08.06 05:00:44.774817 [ 1 ] {} <Information> TablesLoader: Parsed metadata of 0 tables in 1 databases in 7.3608e-05 sec
2025.08.06 05:00:44.850494 [ 714 ] {} <Error> void DB::AsyncLoader::worker(Pool &): std::exception. Code: 1001, type: std::__1::filesystem::filesystem_error, e.what() = filesystem error: in create_directories: Permission denied ["/var/lib/clickhouse/data/system"], Stack trace (when copying this message, always include the lines below):

0. std::system_error::system_error(std::error_code, String const&) @ 0x000000001e5a0c17
1. std::filesystem::filesystem_error::filesystem_error[abi:ne190107](String const&, std::filesystem::path const&, std::error_code) @ 0x000000001288f9ff
2. void std::filesystem::__throw_filesystem_error[abi:ne190107]<String&, std::filesystem::path const&, std::error_code const&>(String&, std::filesystem::path const&, std::error_code const&) @ 0x000000001e5585ad
3. std::filesystem::detail::ErrorHandler<bool>::report(std::error_code const&) const @ 0x000000001e55b542
4. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc8f
5. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc60
6. DB::DiskLocal::createDirectories(String const&) @ 0x00000000160accfa
7. void std::__function::__policy_invoker<void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::DatabaseAtomic::startupDatabaseAsync(DB::AsyncLoader&, std::unordered_set<std::shared_ptr<DB::LoadJob>, std::hash<std::shared_ptr<DB::LoadJob>>, std::equal_to<std::shared_ptr<DB::LoadJob>>, std::allocator<std::shared_ptr<DB::LoadJob>>>, DB::LoadingStrictnessLevel)::$_0, void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>>(std::__function::__policy_storage const*, DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&) @ 0x0000000015eb941a
8. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::AsyncLoader::spawn(DB::AsyncLoader::Pool&, std::unique_lock<std::mutex>&)::$_0, void ()>>(std::__function::__policy_storage const*) @ 0x0000000012aeb704
9. ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::worker() @ 0x000000001290a58b
10. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<ThreadFromGlobalPoolImpl<false, true>::ThreadFromGlobalPoolImpl<void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*>(void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*&&)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*&&)::'lambda'(), void ()>>(std::__function::__policy_storage const*) @ 0x00000000129111c6
11. ThreadPoolImpl<std::thread>::ThreadFromThreadPool::worker() @ 0x0000000012907792
12. void* std::__thread_proxy[abi:ne190107]<std::tuple<std::unique_ptr<std::__thread_struct, std::default_delete<std::__thread_struct>>, void (ThreadPoolImpl<std::thread>::ThreadFromThreadPool::*)(), ThreadPoolImpl<std::thread>::ThreadFromThreadPool*>>(void*) @ 0x000000001290ec9a
13. ? @ 0x0000000000094ac3
14. ? @ 0x0000000000125a04

Cannot print extra info for Poco::Exception (version 25.7.1.3997 (official build))
2025.08.06 05:00:44.934455 [ 1 ] {} <Error> Application: Caught exception while loading metadata: Code: 722. DB::Exception: Waited job failed: Code: 695. DB::Exception: Load job 'startup Atomic database system' failed: std::exception. Code: 1001, type: std::__1::filesystem::filesystem_error, e.what() = filesystem error: in create_directories: Permission denied ["/var/lib/clickhouse/data/system"], Stack trace (when copying this message, always include the lines below):

0. std::system_error::system_error(std::error_code, String const&) @ 0x000000001e5a0c17
1. std::filesystem::filesystem_error::filesystem_error[abi:ne190107](String const&, std::filesystem::path const&, std::error_code) @ 0x000000001288f9ff
2. void std::filesystem::__throw_filesystem_error[abi:ne190107]<String&, std::filesystem::path const&, std::error_code const&>(String&, std::filesystem::path const&, std::error_code const&) @ 0x000000001e5585ad
3. std::filesystem::detail::ErrorHandler<bool>::report(std::error_code const&) const @ 0x000000001e55b542
4. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc8f
5. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc60
6. DB::DiskLocal::createDirectories(String const&) @ 0x00000000160accfa
7. void std::__function::__policy_invoker<void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::DatabaseAtomic::startupDatabaseAsync(DB::AsyncLoader&, std::unordered_set<std::shared_ptr<DB::LoadJob>, std::hash<std::shared_ptr<DB::LoadJob>>, std::equal_to<std::shared_ptr<DB::LoadJob>>, std::allocator<std::shared_ptr<DB::LoadJob>>>, DB::LoadingStrictnessLevel)::$_0, void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>>(std::__function::__policy_storage const*, DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&) @ 0x0000000015eb941a
8. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::AsyncLoader::spawn(DB::AsyncLoader::Pool&, std::unique_lock<std::mutex>&)::$_0, void ()>>(std::__function::__policy_storage const*) @ 0x0000000012aeb704
9. ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::worker() @ 0x000000001290a58b
10. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<ThreadFromGlobalPoolImpl<false, true>::ThreadFromGlobalPoolImpl<void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*>(void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*&&)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*&&)::'lambda'(), void ()>>(std::__function::__policy_storage const*) @ 0x00000000129111c6
11. ThreadPoolImpl<std::thread>::ThreadFromThreadPool::worker() @ 0x0000000012907792
12. void* std::__thread_proxy[abi:ne190107]<std::tuple<std::unique_ptr<std::__thread_struct, std::default_delete<std::__thread_struct>>, void (ThreadPoolImpl<std::thread>::ThreadFromThreadPool::*)(), ThreadPoolImpl<std::thread>::ThreadFromThreadPool*>>(void*) @ 0x000000001290ec9a
13. ? @ 0x0000000000094ac3
14. ? @ 0x0000000000125a04

Cannot print extra info for Poco::Exception (version 25.7.1.3997 (official build)). (ASYNC_LOAD_FAILED) (version 25.7.1.3997 (official build)). (ASYNC_LOAD_WAIT_FAILED), Stack trace (when copying this message, always include the lines below):

0. DB::Exception::Exception(DB::Exception::MessageMasked&&, int, bool) @ 0x00000000127c721b
1. DB::Exception::Exception(PreformattedMessage&&, int) @ 0x000000000bfd62cc
2. DB::Exception::Exception<String>(int, FormatStringHelperImpl<std::type_identity<String>::type>, String&&) @ 0x000000000bfd5feb
3. DB::AsyncLoader::wait(std::shared_ptr<DB::LoadJob> const&, bool) @ 0x0000000012ae52d1
4. DB::waitLoad(unsigned long, std::vector<std::shared_ptr<DB::LoadTask>, std::allocator<std::shared_ptr<DB::LoadTask>>> const&, bool) @ 0x0000000012ac8f1e
5. DB::loadMetadataSystem(std::shared_ptr<DB::Context>, bool) @ 0x00000000170c36de
6. DB::Server::main(std::vector<String, std::allocator<String>> const&) @ 0x0000000012b1338a
7. Poco::Util::Application::run() @ 0x000000001d8bb466
8. DB::Server::run() @ 0x0000000012afc290
9. mainEntryClickHouseServer(int, char**) @ 0x0000000012af9273
10. main @ 0x000000000bfd1b5d
11. ? @ 0x0000000000029d90
12. ? @ 0x0000000000029e40
13. _start @ 0x00000000072b402e
 (version 25.7.1.3997 (official build))
2025.08.06 05:00:44.934535 [ 1 ] {} <Information> Application: Stopping AsyncLoader.
2025.08.06 05:00:44.934647 [ 1 ] {} <Information> CgroupsMemoryUsageObserver: Stopped cgroup current memory usage observer thread
2025.08.06 05:00:44.937763 [ 1 ] {} <Information> Application: Shutting down storages.
2025.08.06 05:00:44.941369 [ 1 ] {} <Information> Context: Shutdown disk default
2025.08.06 05:00:44.965614 [ 1 ] {} <Information> Application: Closed all listening sockets.
2025.08.06 05:00:44.965628 [ 1 ] {} <Information> Application: Closed connections to servers for tables.
2025.08.06 05:00:44.970984 [ 1 ] {} <Information> Application: Waiting for background threads
2025.08.06 05:00:45.046079 [ 1 ] {} <Information> Application: Background threads finished in 75 ms
2025.08.06 05:00:45.047044 [ 1 ] {} <Error> Application: Code: 722. DB::Exception: Waited job failed: Code: 695. DB::Exception: Load job 'startup Atomic database system' failed: std::exception. Code: 1001, type: std::__1::filesystem::filesystem_error, e.what() = filesystem error: in create_directories: Permission denied ["/var/lib/clickhouse/data/system"], Stack trace (when copying this message, always include the lines below):

0. std::system_error::system_error(std::error_code, String const&) @ 0x000000001e5a0c17
1. std::filesystem::filesystem_error::filesystem_error[abi:ne190107](String const&, std::filesystem::path const&, std::error_code) @ 0x000000001288f9ff
2. void std::filesystem::__throw_filesystem_error[abi:ne190107]<String&, std::filesystem::path const&, std::error_code const&>(String&, std::filesystem::path const&, std::error_code const&) @ 0x000000001e5585ad
3. std::filesystem::detail::ErrorHandler<bool>::report(std::error_code const&) const @ 0x000000001e55b542
4. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc8f
5. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc60
6. DB::DiskLocal::createDirectories(String const&) @ 0x00000000160accfa
7. void std::__function::__policy_invoker<void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::DatabaseAtomic::startupDatabaseAsync(DB::AsyncLoader&, std::unordered_set<std::shared_ptr<DB::LoadJob>, std::hash<std::shared_ptr<DB::LoadJob>>, std::equal_to<std::shared_ptr<DB::LoadJob>>, std::allocator<std::shared_ptr<DB::LoadJob>>>, DB::LoadingStrictnessLevel)::$_0, void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>>(std::__function::__policy_storage const*, DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&) @ 0x0000000015eb941a
8. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::AsyncLoader::spawn(DB::AsyncLoader::Pool&, std::unique_lock<std::mutex>&)::$_0, void ()>>(std::__function::__policy_storage const*) @ 0x0000000012aeb704
9. ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::worker() @ 0x000000001290a58b
10. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<ThreadFromGlobalPoolImpl<false, true>::ThreadFromGlobalPoolImpl<void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*>(void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*&&)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*&&)::'lambda'(), void ()>>(std::__function::__policy_storage const*) @ 0x00000000129111c6
11. ThreadPoolImpl<std::thread>::ThreadFromThreadPool::worker() @ 0x0000000012907792
12. void* std::__thread_proxy[abi:ne190107]<std::tuple<std::unique_ptr<std::__thread_struct, std::default_delete<std::__thread_struct>>, void (ThreadPoolImpl<std::thread>::ThreadFromThreadPool::*)(), ThreadPoolImpl<std::thread>::ThreadFromThreadPool*>>(void*) @ 0x000000001290ec9a
13. ? @ 0x0000000000094ac3
14. ? @ 0x0000000000125a04

Cannot print extra info for Poco::Exception (version 25.7.1.3997 (official build)). (ASYNC_LOAD_FAILED) (version 25.7.1.3997 (official build)). (ASYNC_LOAD_WAIT_FAILED), Stack trace (when copying this message, always include the lines below):

0. DB::Exception::Exception(DB::Exception::MessageMasked&&, int, bool) @ 0x00000000127c721b
1. DB::Exception::Exception(PreformattedMessage&&, int) @ 0x000000000bfd62cc
2. DB::Exception::Exception<String>(int, FormatStringHelperImpl<std::type_identity<String>::type>, String&&) @ 0x000000000bfd5feb
3. DB::AsyncLoader::wait(std::shared_ptr<DB::LoadJob> const&, bool) @ 0x0000000012ae52d1
4. DB::waitLoad(unsigned long, std::vector<std::shared_ptr<DB::LoadTask>, std::allocator<std::shared_ptr<DB::LoadTask>>> const&, bool) @ 0x0000000012ac8f1e
5. DB::loadMetadataSystem(std::shared_ptr<DB::Context>, bool) @ 0x00000000170c36de
6. DB::Server::main(std::vector<String, std::allocator<String>> const&) @ 0x0000000012b1338a
7. Poco::Util::Application::run() @ 0x000000001d8bb466
8. DB::Server::run() @ 0x0000000012afc290
9. mainEntryClickHouseServer(int, char**) @ 0x0000000012af9273
10. main @ 0x000000000bfd1b5d
11. ? @ 0x0000000000029d90
12. ? @ 0x0000000000029e40
13. _start @ 0x00000000072b402e
 (version 25.7.1.3997 (official build))
2025.08.06 05:00:45.047201 [ 1 ] {} <Information> Application: shutting down
2025.08.06 05:00:45.047888 [ 78 ] {} <Information> BaseDaemon: Stop SignalListener thread
2025.08.06 05:05:26.343406 [ 1 ] {} <Information> Application: Starting ClickHouse 25.7.1.3997 (revision: 54500, git hash: 28a03cae61b5719d4eb2ebd6464b2ed0cae9e2f9, build id: C8FE0DEE66A39666596055F0FF0AF2AA21B4764C), PID 1
2025.08.06 05:05:26.343919 [ 1 ] {} <Information> Application: starting up
2025.08.06 05:05:26.344772 [ 1 ] {} <Information> Application: OS name: Linux, version: 6.8.0-1030-azure, architecture: x86_64
2025.08.06 05:05:26.344995 [ 1 ] {} <Information> Jemalloc: Value for background_thread set to true (from true)
2025.08.06 05:05:26.356448 [ 1 ] {} <Information> Application: Available RAM: 7.76 GiB; logical cores: 2; used cores: 2.
2025.08.06 05:05:26.356618 [ 1 ] {} <Information> Application: Available CPU instruction sets: SSE, SSE2, SSE3, SSSE3, SSE41, SSE42, F16C, POPCNT, BMI1, BMI2, PCLMUL, AES, AVX, FMA, AVX2, SHA, ADX, RDRAND, RDSEED, RDTSCP, CLFLUSHOPT, CLWB, XSAVE, OSXSAVE
2025.08.06 05:05:26.357271 [ 1 ] {} <Information> CgroupsReader: Will create cgroup reader from '/sys/fs/cgroup/' (cgroups version: v2)
2025.08.06 05:05:26.970057 [ 1 ] {} <Information> Application: Integrity check of the executable successfully passed (checksum: 6F6071C2010AEFE8386EE783834ADED3)
2025.08.06 05:05:26.970232 [ 1 ] {} <Information> MemoryWorker: Starting background memory thread with period of 50ms, using Cgroups as source
2025.08.06 05:05:26.970444 [ 1 ] {} <Information> BackgroundSchedulePool/BgSchPool: Create BackgroundSchedulePool with 512 threads
2025.08.06 05:05:27.022295 [ 77 ] {} <Information> MemoryTracker: Correcting the value of global memory tracker from 8.76 MiB to 63.29 MiB
2025.08.06 05:05:27.247491 [ 1 ] {} <Information> Application: Lowered mark cache size to 3.88 GiB because the system has limited RAM
2025.08.06 05:05:27.247542 [ 1 ] {} <Information> Application: Lowered primary index cache size to 3.88 GiB because the system has limited RAM
2025.08.06 05:05:27.247546 [ 1 ] {} <Information> Application: Lowered index mark cache size to 3.88 GiB because the system has limited RAM
2025.08.06 05:05:27.247550 [ 1 ] {} <Information> Application: Lowered vector similarity index cache size to 3.88 GiB because the system has limited RAM
2025.08.06 05:05:27.272610 [ 1 ] {} <Information> Application: Changed setting 'max_server_memory_usage' to 6.98 GiB (7.76 GiB available memory * 0.90 max_server_memory_usage_to_ram_ratio)
2025.08.06 05:05:27.274786 [ 1 ] {} <Information> Application: Setting merges_mutations_memory_usage_soft_limit was set to 3.88 GiB (7.76 GiB available * 0.50 merges_mutations_memory_usage_to_ram_ratio)
2025.08.06 05:05:27.274789 [ 1 ] {} <Information> Application: Merges and mutations memory limit is set to 3.88 GiB
2025.08.06 05:05:27.278532 [ 1 ] {} <Information> Application: Setting max_remote_read_network_bandwidth_for_server was set to 0
2025.08.06 05:05:27.278751 [ 1 ] {} <Information> Application: Setting max_remote_write_network_bandwidth_for_server was set to 0
2025.08.06 05:05:27.279314 [ 1 ] {} <Information> Application: Setting max_local_read_bandwidth_for_server was set to 0
2025.08.06 05:05:27.279375 [ 1 ] {} <Information> Application: Setting max_local_write_bandwidth_for_server was set to 0
2025.08.06 05:05:27.279409 [ 1 ] {} <Information> Application: ConcurrencyControl limit is set to UNLIMITED CPU slots with 'round_robin' scheduler
2025.08.06 05:05:27.279507 [ 1 ] {} <Information> BackgroundSchedulePool/BgBufSchPool: Create BackgroundSchedulePool with 16 threads
2025.08.06 05:05:27.289317 [ 1 ] {} <Information> BackgroundSchedulePool/BgMBSchPool: Create BackgroundSchedulePool with 16 threads
2025.08.06 05:05:27.297234 [ 1 ] {} <Information> BackgroundSchedulePool/BgDistSchPool: Create BackgroundSchedulePool with 16 threads
2025.08.06 05:05:27.308415 [ 1 ] {} <Warning> Application: Listen [::]:9009 failed: Poco::Exception. Code: 1000, e.code() = 0, DNS error: EAI: Address family for hostname not supported (version 25.7.1.3997 (official build)). If it is an IPv6 or IPv4 address and your host has disabled IPv6 or IPv4, then consider to specify not disabled IPv4 or IPv6 address to listen in <listen_host> element of configuration file. Example for disabled IPv6: <listen_host>0.0.0.0</listen_host> . Example for disabled IPv4: <listen_host>::</listen_host>
2025.08.06 05:05:27.314168 [ 1 ] {} <Information> Application: Listening for replica communication (interserver): http://0.0.0.0:9009
2025.08.06 05:05:27.338206 [ 1 ] {} <Information> CgroupsMemoryUsageObserver: Started cgroup current memory usage observer thread
2025.08.06 05:05:27.339068 [ 644 ] {} <Information> CgroupsMemoryUsageObserver: Memory amount initially available to the process is 7.76 GiB
2025.08.06 05:05:27.347212 [ 1 ] {} <Information> Context: Initialized background executor for merges and mutations with num_threads=16, num_tasks=32, scheduling_policy=round_robin
2025.08.06 05:05:27.359451 [ 1 ] {} <Information> Context: Initialized background executor for move operations with num_threads=8, num_tasks=8
2025.08.06 05:05:27.364623 [ 1 ] {} <Information> Context: Initialized background executor for fetches with num_threads=16, num_tasks=16
2025.08.06 05:05:27.373087 [ 1 ] {} <Information> Context: Initialized background executor for common operations (e.g. clearing old parts) with num_threads=8, num_tasks=8
2025.08.06 05:05:27.393885 [ 1 ] {} <Warning> Context: Linux transparent hugepages are set to "always". Check /sys/kernel/mm/transparent_hugepage/enabled
2025.08.06 05:05:27.404721 [ 1 ] {} <Warning> Context: Delay accounting is not enabled, OSIOWaitMicroseconds will not be gathered. You can enable it using `sudo sh -c 'echo 1 > /proc/sys/kernel/task_delayacct'` or by using sysctl.
2025.08.06 05:05:27.406239 [ 1 ] {} <Information> DNSCacheUpdater: Update period 15 seconds
2025.08.06 05:05:27.407747 [ 1 ] {} <Information> Application: Loading metadata from /var/lib/clickhouse/
2025.08.06 05:05:27.408784 [ 1 ] {} <Information> Context: Database disk name: default
2025.08.06 05:05:27.409632 [ 1 ] {} <Information> Context: Database disk name: default, path: /var/lib/clickhouse/
2025.08.06 05:05:27.411547 [ 1 ] {} <Information> DatabaseAtomic (system): Metadata disk default, path /var/lib/clickhouse/
2025.08.06 05:05:27.412843 [ 1 ] {} <Information> DatabaseAtomic (system): Metadata processed, database system has 0 tables, 0 dictionaries and 0 materialized views in total.
2025.08.06 05:05:27.413432 [ 1 ] {} <Information> TablesLoader: Parsed metadata of 0 tables in 1 databases in 0.000604077 sec
2025.08.06 05:05:27.416564 [ 709 ] {} <Error> void DB::AsyncLoader::worker(Pool &): std::exception. Code: 1001, type: std::__1::filesystem::filesystem_error, e.what() = filesystem error: in create_directories: Permission denied ["/var/lib/clickhouse/data/system"], Stack trace (when copying this message, always include the lines below):

0. std::system_error::system_error(std::error_code, String const&) @ 0x000000001e5a0c17
1. std::filesystem::filesystem_error::filesystem_error[abi:ne190107](String const&, std::filesystem::path const&, std::error_code) @ 0x000000001288f9ff
2. void std::filesystem::__throw_filesystem_error[abi:ne190107]<String&, std::filesystem::path const&, std::error_code const&>(String&, std::filesystem::path const&, std::error_code const&) @ 0x000000001e5585ad
3. std::filesystem::detail::ErrorHandler<bool>::report(std::error_code const&) const @ 0x000000001e55b542
4. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc8f
5. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc60
6. DB::DiskLocal::createDirectories(String const&) @ 0x00000000160accfa
7. void std::__function::__policy_invoker<void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::DatabaseAtomic::startupDatabaseAsync(DB::AsyncLoader&, std::unordered_set<std::shared_ptr<DB::LoadJob>, std::hash<std::shared_ptr<DB::LoadJob>>, std::equal_to<std::shared_ptr<DB::LoadJob>>, std::allocator<std::shared_ptr<DB::LoadJob>>>, DB::LoadingStrictnessLevel)::$_0, void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>>(std::__function::__policy_storage const*, DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&) @ 0x0000000015eb941a
8. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::AsyncLoader::spawn(DB::AsyncLoader::Pool&, std::unique_lock<std::mutex>&)::$_0, void ()>>(std::__function::__policy_storage const*) @ 0x0000000012aeb704
9. ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::worker() @ 0x000000001290a58b
10. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<ThreadFromGlobalPoolImpl<false, true>::ThreadFromGlobalPoolImpl<void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*>(void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*&&)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*&&)::'lambda'(), void ()>>(std::__function::__policy_storage const*) @ 0x00000000129111c6
11. ThreadPoolImpl<std::thread>::ThreadFromThreadPool::worker() @ 0x0000000012907792
12. void* std::__thread_proxy[abi:ne190107]<std::tuple<std::unique_ptr<std::__thread_struct, std::default_delete<std::__thread_struct>>, void (ThreadPoolImpl<std::thread>::ThreadFromThreadPool::*)(), ThreadPoolImpl<std::thread>::ThreadFromThreadPool*>>(void*) @ 0x000000001290ec9a
13. ? @ 0x0000000000094ac3
14. ? @ 0x0000000000125a04

Cannot print extra info for Poco::Exception (version 25.7.1.3997 (official build))
2025.08.06 05:05:27.420664 [ 1 ] {} <Error> Application: Caught exception while loading metadata: Code: 722. DB::Exception: Waited job failed: Code: 695. DB::Exception: Load job 'startup Atomic database system' failed: std::exception. Code: 1001, type: std::__1::filesystem::filesystem_error, e.what() = filesystem error: in create_directories: Permission denied ["/var/lib/clickhouse/data/system"], Stack trace (when copying this message, always include the lines below):

0. std::system_error::system_error(std::error_code, String const&) @ 0x000000001e5a0c17
1. std::filesystem::filesystem_error::filesystem_error[abi:ne190107](String const&, std::filesystem::path const&, std::error_code) @ 0x000000001288f9ff
2. void std::filesystem::__throw_filesystem_error[abi:ne190107]<String&, std::filesystem::path const&, std::error_code const&>(String&, std::filesystem::path const&, std::error_code const&) @ 0x000000001e5585ad
3. std::filesystem::detail::ErrorHandler<bool>::report(std::error_code const&) const @ 0x000000001e55b542
4. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc8f
5. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc60
6. DB::DiskLocal::createDirectories(String const&) @ 0x00000000160accfa
7. void std::__function::__policy_invoker<void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::DatabaseAtomic::startupDatabaseAsync(DB::AsyncLoader&, std::unordered_set<std::shared_ptr<DB::LoadJob>, std::hash<std::shared_ptr<DB::LoadJob>>, std::equal_to<std::shared_ptr<DB::LoadJob>>, std::allocator<std::shared_ptr<DB::LoadJob>>>, DB::LoadingStrictnessLevel)::$_0, void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>>(std::__function::__policy_storage const*, DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&) @ 0x0000000015eb941a
8. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::AsyncLoader::spawn(DB::AsyncLoader::Pool&, std::unique_lock<std::mutex>&)::$_0, void ()>>(std::__function::__policy_storage const*) @ 0x0000000012aeb704
9. ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::worker() @ 0x000000001290a58b
10. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<ThreadFromGlobalPoolImpl<false, true>::ThreadFromGlobalPoolImpl<void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*>(void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*&&)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*&&)::'lambda'(), void ()>>(std::__function::__policy_storage const*) @ 0x00000000129111c6
11. ThreadPoolImpl<std::thread>::ThreadFromThreadPool::worker() @ 0x0000000012907792
12. void* std::__thread_proxy[abi:ne190107]<std::tuple<std::unique_ptr<std::__thread_struct, std::default_delete<std::__thread_struct>>, void (ThreadPoolImpl<std::thread>::ThreadFromThreadPool::*)(), ThreadPoolImpl<std::thread>::ThreadFromThreadPool*>>(void*) @ 0x000000001290ec9a
13. ? @ 0x0000000000094ac3
14. ? @ 0x0000000000125a04

Cannot print extra info for Poco::Exception (version 25.7.1.3997 (official build)). (ASYNC_LOAD_FAILED) (version 25.7.1.3997 (official build)). (ASYNC_LOAD_WAIT_FAILED), Stack trace (when copying this message, always include the lines below):

0. DB::Exception::Exception(DB::Exception::MessageMasked&&, int, bool) @ 0x00000000127c721b
1. DB::Exception::Exception(PreformattedMessage&&, int) @ 0x000000000bfd62cc
2. DB::Exception::Exception<String>(int, FormatStringHelperImpl<std::type_identity<String>::type>, String&&) @ 0x000000000bfd5feb
3. DB::AsyncLoader::wait(std::shared_ptr<DB::LoadJob> const&, bool) @ 0x0000000012ae52d1
4. DB::waitLoad(unsigned long, std::vector<std::shared_ptr<DB::LoadTask>, std::allocator<std::shared_ptr<DB::LoadTask>>> const&, bool) @ 0x0000000012ac8f1e
5. DB::loadMetadataSystem(std::shared_ptr<DB::Context>, bool) @ 0x00000000170c36de
6. DB::Server::main(std::vector<String, std::allocator<String>> const&) @ 0x0000000012b1338a
7. Poco::Util::Application::run() @ 0x000000001d8bb466
8. DB::Server::run() @ 0x0000000012afc290
9. mainEntryClickHouseServer(int, char**) @ 0x0000000012af9273
10. main @ 0x000000000bfd1b5d
11. ? @ 0x0000000000029d90
12. ? @ 0x0000000000029e40
13. _start @ 0x00000000072b402e
 (version 25.7.1.3997 (official build))
2025.08.06 05:05:27.422385 [ 1 ] {} <Information> Application: Stopping AsyncLoader.
2025.08.06 05:05:27.422878 [ 1 ] {} <Information> CgroupsMemoryUsageObserver: Stopped cgroup current memory usage observer thread
2025.08.06 05:05:27.424855 [ 1 ] {} <Information> Application: Shutting down storages.
2025.08.06 05:05:27.428487 [ 1 ] {} <Information> Context: Shutdown disk default
2025.08.06 05:05:27.456000 [ 1 ] {} <Information> Application: Closed all listening sockets.
2025.08.06 05:05:27.456024 [ 1 ] {} <Information> Application: Closed connections to servers for tables.
2025.08.06 05:05:27.499021 [ 1 ] {} <Information> Application: Waiting for background threads
2025.08.06 05:05:27.688383 [ 1 ] {} <Information> Application: Background threads finished in 189 ms
2025.08.06 05:05:27.690376 [ 1 ] {} <Error> Application: Code: 722. DB::Exception: Waited job failed: Code: 695. DB::Exception: Load job 'startup Atomic database system' failed: std::exception. Code: 1001, type: std::__1::filesystem::filesystem_error, e.what() = filesystem error: in create_directories: Permission denied ["/var/lib/clickhouse/data/system"], Stack trace (when copying this message, always include the lines below):

0. std::system_error::system_error(std::error_code, String const&) @ 0x000000001e5a0c17
1. std::filesystem::filesystem_error::filesystem_error[abi:ne190107](String const&, std::filesystem::path const&, std::error_code) @ 0x000000001288f9ff
2. void std::filesystem::__throw_filesystem_error[abi:ne190107]<String&, std::filesystem::path const&, std::error_code const&>(String&, std::filesystem::path const&, std::error_code const&) @ 0x000000001e5585ad
3. std::filesystem::detail::ErrorHandler<bool>::report(std::error_code const&) const @ 0x000000001e55b542
4. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc8f
5. std::filesystem::__create_directories(std::filesystem::path const&, std::error_code*) @ 0x000000001e55bc60
6. DB::DiskLocal::createDirectories(String const&) @ 0x00000000160accfa
7. void std::__function::__policy_invoker<void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::DatabaseAtomic::startupDatabaseAsync(DB::AsyncLoader&, std::unordered_set<std::shared_ptr<DB::LoadJob>, std::hash<std::shared_ptr<DB::LoadJob>>, std::equal_to<std::shared_ptr<DB::LoadJob>>, std::allocator<std::shared_ptr<DB::LoadJob>>>, DB::LoadingStrictnessLevel)::$_0, void (DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&)>>(std::__function::__policy_storage const*, DB::AsyncLoader&, std::shared_ptr<DB::LoadJob> const&) @ 0x0000000015eb941a
8. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<DB::AsyncLoader::spawn(DB::AsyncLoader::Pool&, std::unique_lock<std::mutex>&)::$_0, void ()>>(std::__function::__policy_storage const*) @ 0x0000000012aeb704
9. ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::worker() @ 0x000000001290a58b
10. void std::__function::__policy_invoker<void ()>::__call_impl[abi:ne190107]<std::__function::__default_alloc_func<ThreadFromGlobalPoolImpl<false, true>::ThreadFromGlobalPoolImpl<void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*>(void (ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool::*&&)(), ThreadPoolImpl<ThreadFromGlobalPoolImpl<false, true>>::ThreadFromThreadPool*&&)::'lambda'(), void ()>>(std::__function::__policy_storage const*) @ 0x00000000129111c6
11. ThreadPoolImpl<std::thread>::ThreadFromThreadPool::worker() @ 0x0000000012907792
12. void* std::__thread_proxy[abi:ne190107]<std::tuple<std::unique_ptr<std::__thread_struct, std::default_delete<std::__thread_struct>>, void (ThreadPoolImpl<std::thread>::ThreadFromThreadPool::*)(), ThreadPoolImpl<std::thread>::ThreadFromThreadPool*>>(void*) @ 0x000000001290ec9a
13. ? @ 0x0000000000094ac3
14. ? @ 0x0000000000125a04

Cannot print extra info for Poco::Exception (version 25.7.1.3997 (official build)). (ASYNC_LOAD_FAILED) (version 25.7.1.3997 (official build)). (ASYNC_LOAD_WAIT_FAILED), Stack trace (when copying this message, always include the lines below):

0. DB::Exception::Exception(DB::Exception::MessageMasked&&, int, bool) @ 0x00000000127c721b
1. DB::Exception::Exception(PreformattedMessage&&, int) @ 0x000000000bfd62cc
2. DB::Exception::Exception<String>(int, FormatStringHelperImpl<std::type_identity<String>::type>, String&&) @ 0x000000000bfd5feb
3. DB::AsyncLoader::wait(std::shared_ptr<DB::LoadJob> const&, bool) @ 0x0000000012ae52d1
4. DB::waitLoad(unsigned long, std::vector<std::shared_ptr<DB::LoadTask>, std::allocator<std::shared_ptr<DB::LoadTask>>> const&, bool) @ 0x0000000012ac8f1e
5. DB::loadMetadataSystem(std::shared_ptr<DB::Context>, bool) @ 0x00000000170c36de
6. DB::Server::main(std::vector<String, std::allocator<String>> const&) @ 0x0000000012b1338a
7. Poco::Util::Application::run() @ 0x000000001d8bb466
8. DB::Server::run() @ 0x0000000012afc290
9. mainEntryClickHouseServer(int, char**) @ 0x0000000012af9273
10. main @ 0x000000000bfd1b5d
11. ? @ 0x0000000000029d90
12. ? @ 0x0000000000029e40
13. _start @ 0x00000000072b402e
 (version 25.7.1.3997 (official build))
2025.08.06 05:05:27.690397 [ 1 ] {} <Information> Application: shutting down
2025.08.06 05:05:27.692003 [ 73 ] {} <Information> BaseDaemon: Stop SignalListener thread
